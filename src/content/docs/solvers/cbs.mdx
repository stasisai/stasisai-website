---
title: Conflict-Based Search (CBS)
description: Technical overview of the CBS algorithm implementation in Stasis AI.
---

**Conflict-Based Search (CBS)** is an optimal, two-level algorithm for Multi-Agent Path Finding (MAPF).

## High-Level Search
At the high level, CBS uses a Constraint Tree (CT). Each node in the CT contains:
- A set of path constraints.
- A path for every agent that respects these constraints.
- A cost (typically the sum of path costs).

If the paths have no conflicts (e.g., two agents occupying the same vertex at the same time), the node represents a valid solution. If a conflict occurs, the algorithm splits the node into two child nodes, adding a new constraint to each to prevent the conflict.

## Low-Level Search
At the low level, CBS uses an algorithm like A* to find the optimal path for an individual agent given a specific set of constraints inherited from the high-level node.

## Stasis AI Implementation Notes
In Stasis AI, our Rust CBS implementation is heavily optimized for cache locality using Bevy's ECS. We utilize binary heaps for the Open List and carefully manage memory allocations during the Constraint Tree expansion to avoid out-of-memory errors in WebAssembly limits.
